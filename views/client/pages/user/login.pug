extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main 
    +alert-success(5000)
    +alert-error(5000) 

    // Auth Section
    section.auth-section.min-vh-100.d-flex.align-items-center.py-5
        .container
            .row.justify-content-center
                .col-lg-5.col-md-7.col-sm-9
                    .auth-card.bg-white.rounded-4.shadow-lg.overflow-hidden
                        // Header with gradient
                        .auth-header.bg-primary.text-white.text-center.py-5
                            .auth-icon.mb-3
                                i.fas.fa-user-circle.fa-3x.opacity-75
                            h2.auth-title.fw-bold.mb-2 Đăng nhập
                            p.auth-subtitle.mb-0.opacity-75 Chào mừng bạn quay trở lại!

                        // Form Body
                        .auth-body.p-5
                            form.auth-form(action="/user/login", method="POST")
                                // Email Field
                                .form-group.mb-4
                                    .form-floating
                                        input.form-control.form-control-lg.border-2(
                                            type="email"
                                            id="email"
                                            name="email"
                                            placeholder="Nhập email của bạn"
                                            required
                                        )
                                        label.text-muted(for="email")
                                            i.fas.fa-envelope.me-2
                                            | Email

                                // Password Field
                                .form-group.mb-4
                                    .form-floating.position-relative
                                        input.form-control.form-control-lg.border-2(
                                            type="password"
                                            id="password"
                                            name="password"
                                            placeholder="Nhập mật khẩu"
                                            required
                                        )
                                        label.text-muted(for="password")
                                            i.fas.fa-lock.me-2
                                            | Mật khẩu
                                        button.btn.btn-link.position-absolute.end-0.top-50.translate-middle-y.me-3.p-0.border-0.bg-transparent(
                                            type="button"
                                            onclick="togglePassword('password')"
                                        )
                                            i.fas.fa-eye.text-muted

                                // Remember & Forgot
                                .form-group.mb-4.d-flex.justify-content-between.align-items-center
                                    .form-check
                                        input.form-check-input(type="checkbox", id="remember")
                                        label.form-check-label.text-muted(for="remember") Ghi nhớ đăng nhập
                                    a.forgot-link.text-decoration-none.fw-semibold(href="/user/password/forgot") Quên mật khẩu?

                                // Submit Button
                                .form-group.mb-4
                                    button.btn.btn-primary.btn-lg.w-100.fw-bold.py-3.rounded-3(type="submit")
                                        i.fas.fa-sign-in-alt.me-2
                                        | Đăng nhập

                                // Divider
                                .divider.my-4
                                    .divider-line
                                    .divider-text.bg-white.px-3.text-muted hoặc
                                    .divider-line

                                // Social Login (Optional)
                                .social-login.mb-4
                                    .row.g-2
                                        .col-6
                                            button.btn.btn-outline-primary.w-100.py-2(type="button")
                                                i.fab.fa-facebook-f.me-2
                                                | Facebook
                                        .col-6
                                            button.btn.btn-outline-danger.w-100.py-2(type="button")
                                                i.fab.fa-google.me-2
                                                | Google

                                // Register Link
                                .text-center
                                    span.text-muted Chưa có tài khoản? 
                                    a.register-link.text-decoration-none.fw-bold(href="/user/register") Đăng ký ngay

    // Custom JavaScript for password toggle
    script.
        function togglePassword(fieldId) {
            const field = document.getElementById(fieldId);
            const icon = event.target;
            if (field.type === 'password') {
                field.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                field.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

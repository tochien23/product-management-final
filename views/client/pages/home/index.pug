extends ../../layouts/default.pug
include ../../mixins/box-head.pug
include ../../mixins/product-layout.pug

block main 
    // Hero Section
    section.hero-section.bg-primary.text-white.py-5.mb-5
        .container
            .row.align-items-center.min-vh-50
                .col-lg-6.mb-4.mb-lg-0
                    .hero-content.animate__animated.animate__fadeInLeft
                        h1.display-4.fw-bold.mb-3
                            | Chào mừng đến với 
                            span.text-warning ShopChenHe
                        p.lead.mb-4
                            | Khám phá những sản phẩm chất lượng cao với giá cả tốt nhất. 
                            | Trải nghiệm mua sắm hiện đại và tiện lợi.
                        .hero-buttons
                            a.btn.btn-warning.btn-lg.me-3.shadow(href="/products")
                                i.fas.fa-shopping-bag.me-2
                                | Mua sắm ngay
                            a.btn.btn-outline-light.btn-lg(href="#featured")
                                i.fas.fa-arrow-down.me-2
                                | Khám phá
                .col-lg-6
                    .hero-visual.text-center.animate__animated.animate__fadeInRight
                        .hero-image.position-relative
                            i.fas.fa-store.display-1.text-white-50
                            .hero-badge.position-absolute.top-0.end-0.bg-danger.text-white.rounded-circle.d-flex.align-items-center.justify-content-center(style="width: 60px; height: 60px;")
                                i.fas.fa-fire

    // Features Section
    section.features-section.py-5.bg-light
        .container
            .row.g-4
                .col-md-6.col-lg-3
                    .feature-card.text-center.bg-white.rounded-3.shadow-sm.p-4.h-100
                        .feature-icon.mb-3
                            i.fas.fa-truck.fa-2x.text-primary
                        h5.fw-bold.mb-2 Giao hàng nhanh
                        p.text-muted.small.mb-0 Miễn phí giao hàng cho đơn từ 500k
                .col-md-6.col-lg-3
                    .feature-card.text-center.bg-white.rounded-3.shadow-sm.p-4.h-100
                        .feature-icon.mb-3
                            i.fas.fa-shield-alt.fa-2x.text-success
                        h5.fw-bold.mb-2 Hàng chính hãng
                        p.text-muted.small.mb-0 Cam kết 100% sản phẩm chính hãng
                .col-md-6.col-lg-3
                    .feature-card.text-center.bg-white.rounded-3.shadow-sm.p-4.h-100
                        .feature-icon.mb-3
                            i.fas.fa-headset.fa-2x.text-info
                        h5.fw-bold.mb-2 Hỗ trợ 24/7
                        p.text-muted.small.mb-0 Đội ngũ hỗ trợ luôn sẵn sàng
                .col-md-6.col-lg-3
                    .feature-card.text-center.bg-white.rounded-3.shadow-sm.p-4.h-100
                        .feature-icon.mb-3
                            i.fas.fa-undo.fa-2x.text-warning
                        h5.fw-bold.mb-2 Đổi trả dễ dàng
                        p.text-muted.small.mb-0 Chính sách đổi trả linh hoạt

    // Featured Products Section
    section.section-products-featured.py-5#featured
        .container
            +box-head("Sản phẩm nổi bật")
            
            if productsFeatured && productsFeatured.length > 0
                // Results Header for Featured Products
                .results-header.d-flex.justify-content-between.align-items-center.mb-4.p-3.bg-light.rounded
                    .results-info
                        h5.mb-0.fw-bold.text-dark
                            | Hiển thị #{productsFeatured.length} sản phẩm nổi bật
                    
                    .results-actions.d-flex.align-items-center.gap-2
                        // Sort Options
                        .dropdown
                            button.btn.btn-outline-secondary.btn-sm.dropdown-toggle(
                                type="button"
                                data-bs-toggle="dropdown"
                                aria-expanded="false"
                            )
                                i.fas.fa-sort.me-1
                                | Sắp xếp
                            ul.dropdown-menu
                                li
                                    a.dropdown-item(href="#") Mới nhất
                                li
                                    a.dropdown-item(href="#") Giá thấp đến cao
                                li
                                    a.dropdown-item(href="#") Giá cao đến thấp
                                li
                                    a.dropdown-item(href="#") Tên A-Z

                        // View Toggle
                        .btn-group(role="group")
                            button.btn.btn-outline-secondary.btn-sm.active(type="button")
                                i.fas.fa-th-large
                            button.btn.btn-outline-secondary.btn-sm(type="button")
                                i.fas.fa-list

                // Products Grid
                .products-grid
                    +product-grid(productsFeatured)
            else
                .row.justify-content-center
                    .col-md-6.text-center.py-5
                        i.fas.fa-box-open.fa-3x.text-muted.mb-3
                        h4.text-muted Chưa có sản phẩm nổi bật
                        p.text-muted Sản phẩm sẽ được cập nhật sớm

    // New Products Section
    section.section-products-new.py-5.bg-light
        .container
            +box-head("Sản phẩm mới nhất")
            
            if productsNew && productsNew.length > 0
                // Results Header for New Products
                .results-header.d-flex.justify-content-between.align-items-center.mb-4.p-3.bg-white.rounded.shadow-sm
                    .results-info
                        h5.mb-0.fw-bold.text-dark
                            | Hiển thị #{productsNew.length} sản phẩm mới nhất
                    
                    .results-actions.d-flex.align-items-center.gap-2
                        // Sort Options
                        .dropdown
                            button.btn.btn-outline-secondary.btn-sm.dropdown-toggle(
                                type="button"
                                data-bs-toggle="dropdown"
                                aria-expanded="false"
                            )
                                i.fas.fa-sort.me-1
                                | Sắp xếp
                            ul.dropdown-menu
                                li
                                    a.dropdown-item(href="#") Mới nhất
                                li
                                    a.dropdown-item(href="#") Giá thấp đến cao
                                li
                                    a.dropdown-item(href="#") Giá cao đến thấp
                                li
                                    a.dropdown-item(href="#") Tên A-Z

                        // View Toggle
                        .btn-group(role="group")
                            button.btn.btn-outline-secondary.btn-sm.active(type="button")
                                i.fas.fa-th-large
                            button.btn.btn-outline-secondary.btn-sm(type="button")
                                i.fas.fa-list

                // Products Grid
                .products-grid
                    +product-grid(productsNew)
            else
                .row.justify-content-center
                    .col-md-6.text-center.py-5
                        i.fas.fa-clock.fa-3x.text-muted.mb-3
                        h4.text-muted Chưa có sản phẩm mới
                        p.text-muted Sản phẩm mới sẽ được cập nhật sớm

    // Custom Styles
    style.
        .results-header {
            transition: all 0.3s ease;
        }
        
        .results-header:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .feature-card {
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, #3b82f6 100%);
        }
        
        .hero-visual .hero-image {
            position: relative;
            display: inline-block;
        }
        
        .hero-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @media (max-width: 768px) {
            .hero-section {
                text-align: center;
            }
            
            .results-header {
                flex-direction: column;
                gap: 1rem;
            }
            
            .results-actions {
                justify-content: center;
            }
        }

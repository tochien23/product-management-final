mixin product-item(item)
    .col-lg-3.col-md-4.col-sm-6.mb-4
        .product-item.card.h-100.border-0.shadow-sm.position-relative.overflow-hidden.product-card
            .product-image-wrapper.position-relative
                img.card-img-top.product-image(
                    src=item.thumbnail
                    alt=item.title
                    style="height: 250px; object-fit: cover;"
                )
                if(item.featured == "1")
                    .badge.bg-warning.text-dark.position-absolute.top-0.start-0.m-2
                        i.fas.fa-star.me-1
                        | Nổi bật
                
                if(item.discountPercentage && item.discountPercentage > 0)
                    .badge.bg-danger.position-absolute.top-0.end-0.m-2
                        | -#{item.discountPercentage}%
                
                .product-overlay.position-absolute.w-100.h-100.d-flex.align-items-center.justify-content-center.bg-dark.bg-opacity-75.opacity-0.transition-opacity
                    .text-center
                        a.btn.btn-light.btn-sm.mb-2.d-block(href=`/products/detail/${item.slug}`)
                            i.fas.fa-eye.me-1
                            | Xem chi tiết
                        button.btn.btn-primary.btn-sm.add-to-cart(data-id=item._id type="button")
                            i.fas.fa-cart-plus.me-1
                            | Thêm vào giỏ

            .card-body.d-flex.flex-column
                h5.card-title.fw-bold.mb-2.text-truncate
                    a.text-decoration-none.text-dark(href=`/products/detail/${item.slug}`) #{item.title}
                
                .product-rating.mb-2
                    .d-flex.align-items-center.justify-content-between
                        .stars.text-warning
                            - for(let i = 1; i <= 5; i++)
                                i.fas.fa-star.small
                        small.text-muted (5.0)
                
                .product-price.mt-auto
                    if(item.discountPercentage && item.discountPercentage > 0)
                        .price-new.fw-bold.text-primary.fs-5 #{item.priceNew}$
                        .price-old.text-muted.text-decoration-line-through.small #{item.price}$
                    else
                        .price-new.fw-bold.text-primary.fs-5 #{item.price}$
                
                .product-actions.mt-2.d-flex.gap-2
                    button.btn.btn-outline-primary.btn-sm.flex-fill.add-to-cart(data-id=item._id type="button")
                        i.fas.fa-cart-plus.me-1
                        | Thêm vào giỏ
                    button.btn.btn-outline-danger.btn-sm.wishlist-btn(data-id=item._id type="button")
                        i.far.fa-heart